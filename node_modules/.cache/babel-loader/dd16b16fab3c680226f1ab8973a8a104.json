{"ast":null,"code":"import _classCallCheck from\"/Users/apple/Desktop/CatchOfTheDay/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/apple/Desktop/CatchOfTheDay/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/apple/Desktop/CatchOfTheDay/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/apple/Desktop/CatchOfTheDay/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/apple/Desktop/CatchOfTheDay/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{formatPrice}from\"../helpers\";import{TransitionGroup,CSSTransition}from\"react-transition-group\";var Order=/*#__PURE__*/function(_Component){_inherits(Order,_Component);function Order(){var _getPrototypeOf2;var _this;_classCallCheck(this,Order);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Order)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.renderOrder=function(key){var fish=_this.props.fishes[key];var count=_this.props.order[key];var isAvailable=fish&&fish.status===\"available\";//made sure the fish is loaded\nif(!fish)return null;if(!isAvailable){return React.createElement(CSSTransition,{classNames:\"order\",key:key,timeout:{enter:500,exit:500}},React.createElement(\"li\",{key:key},\"Sorry \",fish?fish.name:\"fish\",\" is no longer available\"));}return React.createElement(CSSTransition,{classNames:\"order\",key:key,timeout:{enter:500,exit:500}},React.createElement(\"li\",{key:key},React.createElement(\"span\",null,React.createElement(TransitionGroup,{component:\"span\",className:\"count\"},React.createElement(CSSTransition,{classNames:\"count\",key:count,timeout:{enter:500,exit:500}},React.createElement(\"span\",null,count))),\"lbs \",fish.name,formatPrice(count*fish.price),React.createElement(\"button\",{onClick:function onClick(){return _this.props.removeFromOrder(key);}},\"\\xD7\"))));};return _this;}_createClass(Order,[{key:\"render\",value:function render(){var _this2=this;var orderIds=Object.keys(this.props.order);var total=orderIds.reduce(function(prevTotal,key){var fish=_this2.props.fishes[key];var count=_this2.props.order[key];var isAvailable=fish&&fish.status===\"available\";if(isAvailable){return prevTotal+count*fish.price;}return prevTotal;},0);return React.createElement(\"div\",{className:\"order-wrap\"},React.createElement(\"h2\",null,\"Your Order\"),React.createElement(TransitionGroup,{component:\"ul\",className:\"order\"},orderIds.map(this.renderOrder)),React.createElement(\"div\",{className:\"total\"},\"Total:\",React.createElement(\"strong\",null,formatPrice(total))));}}]);return Order;}(Component);export{Order as default};","map":{"version":3,"sources":["/Users/apple/Desktop/CatchOfTheDay/src/components/Order.js"],"names":["React","Component","formatPrice","TransitionGroup","CSSTransition","Order","renderOrder","key","fish","props","fishes","count","order","isAvailable","status","enter","exit","name","price","removeFromOrder","orderIds","Object","keys","total","reduce","prevTotal","map"],"mappings":"2wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,OAASC,eAAT,CAA0BC,aAA1B,KAA+C,wBAA/C,C,GAGqBC,CAAAA,K,2XAOnBC,W,CAAc,SAAAC,GAAG,CAAI,CACnB,GAAMC,CAAAA,IAAI,CAAG,MAAKC,KAAL,CAAWC,MAAX,CAAkBH,GAAlB,CAAb,CACA,GAAMI,CAAAA,KAAK,CAAG,MAAKF,KAAL,CAAWG,KAAX,CAAiBL,GAAjB,CAAd,CACA,GAAMM,CAAAA,WAAW,CAAGL,IAAI,EAAIA,IAAI,CAACM,MAAL,GAAgB,WAA5C,CACA;AACA,GAAI,CAACN,IAAL,CAAW,MAAO,KAAP,CACX,GAAI,CAACK,WAAL,CAAkB,CAChB,MACE,qBAAC,aAAD,EACE,UAAU,CAAC,OADb,CAEE,GAAG,CAAEN,GAFP,CAGE,OAAO,CAAE,CAAEQ,KAAK,CAAE,GAAT,CAAcC,IAAI,CAAE,GAApB,CAHX,EAKE,0BAAI,GAAG,CAAET,GAAT,WACSC,IAAI,CAAGA,IAAI,CAACS,IAAR,CAAe,MAD5B,2BALF,CADF,CAWD,CACD,MACE,qBAAC,aAAD,EACE,UAAU,CAAC,OADb,CAEE,GAAG,CAAEV,GAFP,CAGE,OAAO,CAAE,CAAEQ,KAAK,CAAE,GAAT,CAAcC,IAAI,CAAE,GAApB,CAHX,EAKE,0BAAI,GAAG,CAAET,GAAT,EACE,gCACE,oBAAC,eAAD,EAAiB,SAAS,CAAC,MAA3B,CAAkC,SAAS,CAAC,OAA5C,EACE,oBAAC,aAAD,EACE,UAAU,CAAC,OADb,CAEE,GAAG,CAAEI,KAFP,CAGE,OAAO,CAAE,CAAEI,KAAK,CAAE,GAAT,CAAcC,IAAI,CAAE,GAApB,CAHX,EAKE,gCAAOL,KAAP,CALF,CADF,CADF,QAUOH,IAAI,CAACS,IAVZ,CAWGf,WAAW,CAACS,KAAK,CAAGH,IAAI,CAACU,KAAd,CAXd,CAYE,8BAAQ,OAAO,CAAE,yBAAM,OAAKT,KAAL,CAAWU,eAAX,CAA2BZ,GAA3B,CAAN,EAAjB,SAZF,CADF,CALF,CADF,CA0BD,C,wEACQ,iBACP,GAAMa,CAAAA,QAAQ,CAAGC,MAAM,CAACC,IAAP,CAAY,KAAKb,KAAL,CAAWG,KAAvB,CAAjB,CACA,GAAMW,CAAAA,KAAK,CAAGH,QAAQ,CAACI,MAAT,CAAgB,SAACC,SAAD,CAAYlB,GAAZ,CAAoB,CAChD,GAAMC,CAAAA,IAAI,CAAG,MAAI,CAACC,KAAL,CAAWC,MAAX,CAAkBH,GAAlB,CAAb,CACA,GAAMI,CAAAA,KAAK,CAAG,MAAI,CAACF,KAAL,CAAWG,KAAX,CAAiBL,GAAjB,CAAd,CACA,GAAMM,CAAAA,WAAW,CAAGL,IAAI,EAAIA,IAAI,CAACM,MAAL,GAAgB,WAA5C,CACA,GAAID,WAAJ,CAAiB,CACf,MAAOY,CAAAA,SAAS,CAAGd,KAAK,CAAGH,IAAI,CAACU,KAAhC,CACD,CACD,MAAOO,CAAAA,SAAP,CACD,CARa,CAQX,CARW,CAAd,CASA,MACE,4BAAK,SAAS,CAAC,YAAf,EACE,2CADF,CAEE,oBAAC,eAAD,EAAiB,SAAS,CAAC,IAA3B,CAAgC,SAAS,CAAC,OAA1C,EACGL,QAAQ,CAACM,GAAT,CAAa,KAAKpB,WAAlB,CADH,CAFF,CAKE,2BAAK,SAAS,CAAC,OAAf,WAEE,kCAASJ,WAAW,CAACqB,KAAD,CAApB,CAFF,CALF,CADF,CAYD,C,mBA5EgCtB,S,SAAdI,K","sourcesContent":["import React, { Component } from \"react\";\nimport { formatPrice } from \"../helpers\";\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\nimport PropTypes from \"prop-types\";\n\nexport default class Order extends Component {\n  static propTypes = {\n    fishes: PropTypes.object,\n    order: PropTypes.object,\n    removeFromOrder: PropTypes.func\n  };\n\n  renderOrder = key => {\n    const fish = this.props.fishes[key];\n    const count = this.props.order[key];\n    const isAvailable = fish && fish.status === \"available\";\n    //made sure the fish is loaded\n    if (!fish) return null;\n    if (!isAvailable) {\n      return (\n        <CSSTransition\n          classNames=\"order\"\n          key={key}\n          timeout={{ enter: 500, exit: 500 }}\n        >\n          <li key={key}>\n            Sorry {fish ? fish.name : \"fish\"} is no longer available\n          </li>\n        </CSSTransition>\n      );\n    }\n    return (\n      <CSSTransition\n        classNames=\"order\"\n        key={key}\n        timeout={{ enter: 500, exit: 500 }}\n      >\n        <li key={key}>\n          <span>\n            <TransitionGroup component=\"span\" className=\"count\">\n              <CSSTransition\n                classNames=\"count\"\n                key={count}\n                timeout={{ enter: 500, exit: 500 }}\n              >\n                <span>{count}</span>\n              </CSSTransition>\n            </TransitionGroup>\n            lbs {fish.name}\n            {formatPrice(count * fish.price)}\n            <button onClick={() => this.props.removeFromOrder(key)}>\n              &times;\n            </button>\n          </span>\n        </li>\n      </CSSTransition>\n    );\n  };\n  render() {\n    const orderIds = Object.keys(this.props.order);\n    const total = orderIds.reduce((prevTotal, key) => {\n      const fish = this.props.fishes[key];\n      const count = this.props.order[key];\n      const isAvailable = fish && fish.status === \"available\";\n      if (isAvailable) {\n        return prevTotal + count * fish.price;\n      }\n      return prevTotal;\n    }, 0);\n    return (\n      <div className=\"order-wrap\">\n        <h2>Your Order</h2>\n        <TransitionGroup component=\"ul\" className=\"order\">\n          {orderIds.map(this.renderOrder)}\n        </TransitionGroup>\n        <div className=\"total\">\n          Total:\n          <strong>{formatPrice(total)}</strong>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}